<html ng-app='myApp'>
<head>
  <script src="../../../bower_components/angular/angular.js"></script>
  <script type='text/javascript'>
  var myApp = angular.module('myApp', []);
  myApp.controller('usersController', ['$scope', function ($scope){
    // we don't need a factory for this demo, it wouldn't make a difference if we did.
      $scope.users = [{first_name:"firstname",last_name:"lastname",language:"Ruby"}];

      $scope.addUser = function(){
        $scope.users.push($scope.user);
      }
      $scope.deleteUser = function(userToDelete){
        $scope.users = $scope.users.filter(function(user){
          return user !== userToDelete;
        })


      }

  }])
  </script>
</head>
<body ng-app='myApp'>
  <div ng-controller='usersController'>
    <form ng-submit="addUser()">
      <label>First Name: <input type="text"  ng-model="user.first_name"></label>
      <label>Last Name: <input type="text" ng-model="user.last_name"></label>
      <label>Favorite Language: <input type="text" ng-model="user.language"></label>
      <input type="submit" value="Add User">
    </form>

    <table>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Fav Language</th>
        <th>Action</th>
      </tr>
      <tr ng-repeat="user in users">
        <td>{{user.first_name}}</td>
        <td>{{user.last_name}}</td>
        <td>{{user.language}}</td>
        <td><button ng-click='deleteUser(user)'>Delete</button></td>

      </tr>
    </table>

  </div>
</body>

</html>
